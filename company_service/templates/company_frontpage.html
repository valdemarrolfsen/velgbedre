{% extends 'company_main.html' %}
{% load staticfiles %}
{% block content %}
<div id = "company_service-frontpage">
	<div class="navigation-buttons" id="go-to-wishlist">
		<span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
		<p>Gå til ønskeliste</p>
	</div>
	<div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="1000000">
		<div class="add-product" id="add-product">
			<span class="glyphicon glyphicon-heart" aria-hidden="true"></span>
			<p>Legg til i Ønskeliste</p>
		</div>
		<!-- Indicators -->
		<ol class="carousel-indicators" id="carousel-indicators">
			{% for product in products %}
				{% if forloop.first %}
					<li data-target="#carousel-example-generic" data-slide-to="{{ forloop.counter0 }}" class="active" style = "background-image: url({{product.background.url}});"></li>
				{% else %}
					<li data-target="#carousel-example-generic" data-slide-to="{{ forloop.counter0 }}" style = "background-image: url({{product.background.url}});"></li>
				{% endif %}
			{% endfor %}
		</ol>

	  <!-- Wrapper for slides -->
		<div class="carousel-inner" role="listbox">
			{% for product in products %}
				{% if forloop.first %}
					<div class="item active">
						<section id = "section-intro-image" style = "background-image: url({{product.background.url}});">
							<h1>{{product.name}}</h1>
						</section>
					</div>
				{% else %}
					<div class="item">
						<section id = "section-intro-image" style = "background-image: url({{product.background.url}});">
							<h1>{{product.name}}</h1>
						</section>
					</div>
				{% endif %}
			{% endfor %}
		</div>

		<!-- Controls -->
		<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev" id = "carousel-left" >
			<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next" id = "carousel-right">
			<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>
	<section id ="section-product">
		{% for product in products %}
			<div id = "product{{ forloop.counter0 }}" data-productid = "{{ product.id }}">
				<div class="content">
					<h1>{{product.name}}</h1>
					<p>{{product.description}}</p>
				</div>
				<div class="other-info">
					<div class = "picture-container">
						<h1>Flere bilder</h1>
						{% for image in product.get_images %}
							<div class = "picture" style="background-image: url({{image}});" data-picture = "{{forloop.counter0}}"></div>
						{% endfor %}
					</div>
					<div class="info-container">
						<h1>Hvem</h1>
						<p>{{product.who}}</p>
					</div>
					<div class="info-container">
						<h1>Hvordan</h1>
						<p>{{product.how}}</p>
					</div>
					<div class="info-container">
						<h1>Hvorfor</h1>
						<p>{{product.why}}</p>
					</div>
				</div>
			</div>
		{% endfor %}
	</section>
	<section id = "section-testemonial">
		<h1>
			"Velg Bedre gjorde det enkelt å velge gaver til de ansatte rundt juletider. Spørsmål underveis ble raskt besvart. Julegavene ble levert ferdig innpakket med flotte kort - og jeg satt igjen med følelsen av å ha spart tid OG tatt et bedre valg!"
		</h1>
		<p>- Gry Tørresdal, Koordinator Infotech</p>
	</section>
	{% for product in products %}
	<div class = "picture-slider" id = "picture-slider{{forloop.counter0}}">
		<div class= "slider-outer">
			<div class= "slider-inner">
				<div class= "close">
					<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
				</div>
				<div id="picture-carousel{{forloop.counter0}}" class="carousel slide" data-ride="carousel" data-interval="1000000">
					<!-- Indicators -->
					<ol class="carousel-indicators">
						{% for image in product.get_images %}
							{% if forloop.first %}
								<li data-target="#picture-carousel{{forloop.parentloop.counter0}}" data-slide-to="{{ forloop.counter0 }}" class="active"></li>
							{% else %}
								<li data-target="#picture-carousel{{forloop.parentloop.counter0}}" data-slide-to="{{ forloop.counter0 }}"></li>
							{% endif %}
						{% endfor %}
					</ol>

				  <!-- Wrapper for slides -->
					<div class="carousel-inner" role="listbox">
						{% for image in product.get_images %}
							{% if forloop.first %}
								<div class="item picture{{forloop.counter0}} active">
									<section id = "section-intro-image" style = "background-image: url({{image}});"></section>
								</div>
							{% else %}
								<div class="item picture{{forloop.counter0}}">
									<section id = "section-intro-image" style = "background-image: url({{image}});"></section>
								</div>
							{% endif %}
						{% endfor %}
					</div>

					<!-- Controls -->
					<a class="left carousel-control" href="#picture-carousel{{forloop.counter0}}" role="button" data-slide="prev">
						<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="right carousel-control" href="#picture-carousel{{forloop.counter0}}" role="button" data-slide="next">
						<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
		</div>
	</div>
	{% endfor %}
</div>

<div id="intro-message">
	<div class="message">
		<div class= "close" id="intro-close">
			<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
		</div>
		<div id="intro" class="carousel slide" data-ride="carousel" data-interval="1000000">
			<!-- Indicators -->
			<ol class="carousel-indicators">	
				<li data-target="#intro" data-slide-to="0" class="active"></li>
				<li data-target="#intro" data-slide-to="1"></li>
			</ol>

		  <!-- Wrapper for slides -->
			<div class="carousel-inner" role="listbox">
				<div class="item active">
					<h1>One</h1>
				</div>
				<div class="item">
					<h1>Two</h1>
				</div>
			</div>

			<!-- Controls -->
			<a class="left carousel-control" href="#intro" role="button" data-slide="prev">
				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="right carousel-control" href="#intro" role="button" data-slide="next">
				<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a>
		</div>
	</div>
</div>
{% csrf_token %}

{% endblock content %}

{% block extraJS %}
<script>
   var numProducts = Number({{numProducts }});
   var wishlist = {{wishlist}};

   var selectedProduct;

   $(document).ready(function() {
		selectedProduct = 0;

		$('#picture-slider0').hide();
		$('#do-post').hide();
		$('#go-to-wishlist').hide();

		for (var i = 1; i<numProducts; i++) {
			$('#picture-slider' + i).hide();
			$('#product' + i).hide();
		}

		toggleSelectButton($('#add-product'));
   })
</script>
{% endblock extraJS %}