{% extends 'company_main.html' %}
{% load staticfiles %}
{% block content %}
<div id = "company_service-frontpage">
	<div class="navigation-buttons" id="go-to-wishlist">
		<span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
		<p>Gå til ønskeliste</p>
	</div>
	<div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="1000000">
		<div class="add-product" id="add-product">
			<span class="glyphicon glyphicon-heart" aria-hidden="true"></span>
			<p>Legg til i Ønskeliste</p>
		</div>
		<!-- Indicators -->
		<ol class="carousel-indicators" id="carousel-indicators">
			{% for product in products %}
				{% if forloop.first %}
					<li data-target="#carousel-example-generic" data-slide-to="{{ forloop.counter0 }}" class="active" style = "background-image: url({{product.background.url}});"></li>
				{% else %}
					<li data-target="#carousel-example-generic" data-slide-to="{{ forloop.counter0 }}" style = "background-image: url({{product.background.url}});"></li>
				{% endif %}
			{% endfor %}
		</ol>

	  <!-- Wrapper for slides -->
		<div class="carousel-inner" role="listbox">
			{% for product in products %}
				{% if forloop.first %}
					<div class="item active">
						<section id = "section-intro-image" style = "background-image: url({{product.background.url}});">
							<h1>{{product.name}}</h1>
						</section>
					</div>
				{% else %}
					<div class="item">
						<section id = "section-intro-image" style = "background-image: url({{product.background.url}});">
							<h1>{{product.name}}</h1>
						</section>
					</div>
				{% endif %}
			{% endfor %}
		</div>

		<!-- Controls -->
		<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev" id = "carousel-left" >
			<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next" id = "carousel-right">
			<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>
	<section id ="section-product">
		{% for product in products %}
			<div id = "product{{ forloop.counter0 }}" data-productid = "{{ product.id }}">
				<div class="content">
					<h1>{{product.name}}</h1>
					<p>{{product.description}}</p>
					<div class="icons">
						<div class="icon" id="first-icon"></div>
						<div class="icon" id="second-icon"></div>
						<div class="icon" id="third-icon"></div>
						<div class="infobox"><h1>One</h1></div>
						<div class = "pointer"></div>
					</div>
				</div>
				<div class="other-info">
					<div class = "picture-container">
						<h1>Flere bilder</h1>
						{% for image in product.get_images %}
							<div class = "picture" style="background-image: url({{image}});" data-picture = "{{forloop.counter0}}"></div>
						{% endfor %}
					</div>
					<div class="info-container">
						<p>Type:</p>
						<select name="productTypes" id="productTypes{{forloop.counter0}}">
							{% for type in product.get_types %}
								<option value="{{ type.id }}">{{type.name}}</option>
							{% endfor %}
						</select>
					</div>
				</div>
			</div>
		{% endfor %}
	</section>
	<section id = "section-testemonial">
		<h1>
			"Velg Bedre gjorde det enkelt å velge gaver til de ansatte rundt juletider. Spørsmål underveis ble raskt besvart. Julegavene ble levert ferdig innpakket med flotte kort - og jeg satt igjen med følelsen av å ha spart tid OG tatt et bedre valg!"
		</h1>
		<p>- Gry Tørresdal, Koordinator Infotech</p>
	</section>
	{% for product in products %}
	<div class = "picture-slider" id = "picture-slider{{forloop.counter0}}">
		<div class= "slider-outer">
			<div class= "slider-inner">
				<div class= "close">
					<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
				</div>
				<div id="picture-carousel{{forloop.counter0}}" class="carousel slide" data-ride="carousel" data-interval="1000000">
					<!-- Indicators -->
					<ol class="carousel-indicators">
						{% for image in product.get_images %}
							{% if forloop.first %}
								<li data-target="#picture-carousel{{forloop.parentloop.counter0}}" data-slide-to="{{ forloop.counter0 }}" class="active"></li>
							{% else %}
								<li data-target="#picture-carousel{{forloop.parentloop.counter0}}" data-slide-to="{{ forloop.counter0 }}"></li>
							{% endif %}
						{% endfor %}
					</ol>

				  <!-- Wrapper for slides -->
					<div class="carousel-inner" role="listbox">
						{% for image in product.get_images %}
							{% if forloop.first %}
								<div class="item picture{{forloop.counter0}} active">
									<section id = "section-intro-image" style = "background-image: url({{image}});"></section>
								</div>
							{% else %}
								<div class="item picture{{forloop.counter0}}">
									<section id = "section-intro-image" style = "background-image: url({{image}});"></section>
								</div>
							{% endif %}
						{% endfor %}
					</div>

					<!-- Controls -->
					<a class="left carousel-control" href="#picture-carousel{{forloop.counter0}}" role="button" data-slide="prev">
						<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="right carousel-control" href="#picture-carousel{{forloop.counter0}}" role="button" data-slide="next">
						<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
		</div>
	</div>
	{% endfor %}
</div>

<div id="intro-message">
	<div class="message">
		<div class= "close" id="intro-close">
			<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
		</div>
		<div id="intro" class="carousel slide" data-ride="carousel" data-interval="1000000">
			<!-- Indicators -->
			<ol class="carousel-indicators">	
				<li data-target="#intro" data-slide-to="0" class="active"></li>
				<li data-target="#intro" data-slide-to="1"></li>
			</ol>

		  <!-- Wrapper for slides -->
			<div class="carousel-inner" role="listbox">
				<div class="item active">
					<h1>Trippel bunnlinje</h1>
					<p>
						Hvert eneste produkt som lages har en effekt, og hvert produkt du kjøper er en stemme på den verdenen du har lyst å leve i. Velg Bedre forteller deg hvordan effekten av hvert produkt er med på å skape en bærekraftig fremtid, og vi deler denne effekten opp i tre kategorier:
					</p>
					<div class="effect">
						<h3>Sosial effekt</h3>
						<ul>
							<li>
								<strong>Sysselsetting:</strong> Hvor mange mennesker sysselsettes gjennom virksomheten.
							</li>
							<li>
								<strong>Lokasjon:</strong> Hvor i verden produseres produktet?
							</li>
							<li>
								<strong>Samarbeid:</strong> Samarbeider virksomheten med eksterne organisasjoner?
							</li>
						</ul>
					</div>
					<div class="effect">
						<h3>Økonomisk effekt</h3>
						<ul>
							<li>
								<strong>Lønnsforhold:</strong> Får alle involverte i produksjonen en rettferdig betaling?
							</li>
							<li>
								<strong>Økonomisk fordeling:</strong> Hvordan fordeles profitten fra virksomheten?
							</li>
							<li>
								<strong>Eierskap:</strong> Hvem eier selskapet?
							</li>
						</ul>
					</div>
					<div class="effect">
						<h3>Miljøeffekt</h3>
						<ul>
							<li>
								<strong>Materialvalg:</strong> Hvilke materialer brukes til å lage produktet?
							</li>
							<li>
								<strong>Miljøpåvirkning:</strong> Hva er det totale avtrykket fra produksjonen av varen?
							</li>
							<li>
								<strong>Sertifisering:</strong> Er selskapet godkjent av noen sertifiseringer eller ordninger?
							</li>
						</ul>
					</div>
				</div>
				<div class="item">
					<h1>Brukerinstruksjoner</h1>
					<ul>
						<li>
							<h4>Kapasitetsbegrensninger</h4>
							<p>
								Skikkelig håndtverk er ressurs- og tidkrevende. Dette medfører at våre produsenter har kapasitetsbegrensninger i sin produksjon. Derfor gir vi deg mulighet til å fylle ut en hel ønskelisten slik at du er sikret å få noe du virkelig ønsker deg.
							</p>
						</li>
						<li>
							<h4>Produktoversikt</h4>
							<p>
								Øverst i velgeren finner du oversikten over produktene kun kan velge mellom. Du navigerer i produktoversikten ved å klikke på produktene.
							</p>
						</li>
						<li>
							<h4>Produkt</h4>
							<p>
								På hvert produkt kan du lese produktbeskrivelse og lese om effekten av produktet. Du kan også se gjennom bilder av produktet og velge hvilke variant du ønsker deg hvor det er aktuelt.
							</p>
						</li>
						<li>
							<h4>Logge ut og inn</h4>
							<p>
								Det er alltid mulig å lagre ønskelisten din til senere bruk, og logge på igjen med tilsendt påloggingsinformasjon.
							</p>
						</li>
					</ul>
				</div>
			</div>

			<!-- Controls -->
			<a class="left carousel-control" href="#intro" role="button" data-slide="prev">
				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="right carousel-control" href="#intro" role="button" data-slide="next">
				<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a>
		</div>
	</div>
</div>
{% csrf_token %}

{% endblock content %}

{% block extraJS %}
<script>
   var numProducts = Number({{numProducts}});

   var wishlist = [];

   {% for wish in wishlist %}
   		wishlist.push({
   			'product':{{wish.product}},
   			'type':{{wish.type}}
   		});	
   {% endfor %}

   var selectedProduct;
   var selectedType;

   $(document).ready(function() {
		selectedProduct = 0;

		$('#picture-slider0').hide();
		$('#do-post').hide();
		$('#go-to-wishlist').hide();
		$('.infobox').hide();
		$('.pointer').hide();


		for (var i = 1; i<numProducts; i++) {
			$('#picture-slider' + i).hide();
			$('#product' + i).hide();
		}

		toggleSelectButton($('#add-product'));

		// ------------- Product types -------------
		$('#productTypes' + selectedProduct).change(function() {
			selectedType = $('#productTypes' + selectedProduct + ' option:selected').val();
		});
   })
</script>
{% endblock extraJS %}